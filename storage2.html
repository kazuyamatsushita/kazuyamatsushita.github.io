<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>SelectClass</title>
<script type="text/javascript">
   
// 表の動的作成


function session(){
	var user = document.getElementById("user");
	var title = document.getElementById("title");
	var content = document.getElementById("content");
	var post = [user.value,title.value,content.value];
	try{
		var jsondatabase = sessionStorage.getItem("3736data");
		var database = JSON.parse(jsondatabase);
		var num = Object.keys(database).length;
		database[num] = post;
		jsondatabase = JSON.stringify(database);

	}catch(e){
		var info = ["管理人","はじめまして","自由に書き込んでください"];
		var database = {"0":info,"1":post};
		jsondatabase = JSON.stringify(database);

	}
	sessionStorage.setItem("3736data",jsondatabase);
}
</script>
<script>
function makeTable(){
	var database = sessionStorage.getItem("3736data");
	postnum = sessionStorage.getItem("3736postnum");
	var jsondatabase = JSON.parse(database);

	var table1 = document.createElement('table');
      	// tr部分のループ
      	for (var i = 0; i < Object.keys(jsondatabase[postnum][3]).length; i++) {
        	var tr2top = document.createElement('tr');
        	var td2top = document.createElement('td');
        	var tr2content = document.createElement('tr');
        	var td2content = document.createElement('td');
        	td2top.textContent = jsondatabase[postnum][3][String(i)][0]+" "+jsondatabase[postnum][3][String(i)][1];
		td2content.textContent = jsondatabase[postnum][3][String(i)][2];
        	tr2top.appendChild(td2top);
        	tr2content.appendChild(td2content);
        	table1.appendChild(tr2top);
        	table1.appendChild(tr2content);
	}
	document.getElementById('table').appendChild(table1);
}

</script>
<style>
body{
	width:1280px;
	height: 800px;
	background: #ffffff;
	margin: 0px;
   	padding: 0px;
	}

	
button.buttoncss{
	font-size:60pt;
	width:640px; 
	height: 150px;
	font-family:'Century Gothic';
	text-align:center;
	background: -webkit-linear-gradient(#bb72ff 0%, #e900ff 100%);
	color:#ffffff;
	border-radius: 20px;
	}

.headerstyle {
	width:1280px; 
	height:160px;
	table-layout: fixed;
	background: #333333;
	border="0";
	}

.header{
	color:#6795fd;
	width:1280px; 
	height:80px;
  	background: #333333;
	position: relative;  
	display: flex;
  	justify-content: center;
  	align-items: center;
	}

.headertext{
	color: #ACB6E5;
  	background: -webkit-linear-gradient(#bb72ff 0%, #ed2dff 100%);
  	-webkit-background-clip: text;
  	-webkit-text-fill-color: transparent;
 	display: block;
	font-size:40pt;
	font-family: 'Montserrat';
	text-align:center;
	font-weight: bold;
	}

.buttoncell{
	width:320px; 
	height:80px;
	text-align:center;
	border-top: hidden;
	border-bottom: hidden;
	}
.buttoncellc{
	width:320px; 
	height:80px;
	text-align:center;
	border-top: hidden;
	border-bottom: hidden;
	border-right: solid 2px #ffffff;
	border-left: solid 2px #ffffff;
	}
	
.headerbutton{
	width:316px; 
	height:80px;
	background: #333333;
	border:none;
	}
.buttonbox{
	width:156px; 
	height:80px;
	font-size:30pt;
	text-align:left;
	color:#ffffff;
	}
.buttonbox2{
	width:156px; 
	height:80px;
	font-size:30pt;
	text-align:right;
	color:#ffffff;
	}
.imgbox{
	width:156px; 
	height:80px;
	}
.minitable{
	border:0px;
	width:316px; 
	height:80px;
}
.gradient{
  	background: -webkit-linear-gradient(#bb72ff 0%, #ed2dff 100%);
  	-webkit-background-clip: text;
  	-webkit-text-fill-color: transparent;
	}


</style>
</head>
<body onload="makeTable()">
<header>
<table class='headerstyle' border="0" cellspacing="0" cellpadding="0">
<tr>
<td class="header"><span class="headertext">授業サーチ</span></td>
</tr>
<tr>
<td class="buttoncell"><button class="headerbutton" onclick="clicked(this);">
<table class="minitable" border="0"><tr><td class="imgbox"><img src="searchleft.png"></img></td>
<td class="buttonbox" id="prevgrade">1年部</td></tr></table></button></td>
<td class="buttoncellc"><button class="headerbutton" onclick="clickedback();">
<table class="minitable" border="0"><tr><td class="imgbox">
<img src="searchback.png"　class="ima"></img></td>
<td class="buttonbox">戻る</td></tr></table></button></td>
<td class="buttoncellc"><table class="minitable" border="0"><tr>
<td class="imgbox"><img src="searchflag.png"></img></td>
<td class="buttonbox" id="currentgrade">
<span class="gradient">2年部</span></td></tr></table></button></td>
<td class="buttoncell"><button class="headerbutton" onclick="clicked(this);">
<>
<table class="minitable" border="0"><tr><td class="buttonbox2" id="nextgrade">3年部</td>
<td class="imgbox"><img src="searchright.png"></img></td></tr></table></button></td>
</tr>
</table>
</header>

<br>

<form>
	<p>ユーザー名<input type="text" id="user"></p>
	<p>タイトル<input type="text" id="title"></p>
	<p>内容<input type="text" id="content"></p>
	<p><input type="button" value="確認する" id="button2" onclick="Session()"></p>
</form>
<table id="table"></table>
</body>
</html>              